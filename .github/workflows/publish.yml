name: Publish
on:
  push:
    branches:
      - master
jobs:
  publish:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2.4.2
        
      - name: Angular Github Actions
        uses: mayurrawte/github-angular-actions@latest

      - name: Install dependency
        run: npm install
        
      - name: Build
        run: ng build --localize --base-href "https://recaton.github.io/tools/" && cp .github/index.html dist/tools/
       
      - name: Deploy
        run: npx angular-cli-ghpages --dir=dist/tools
